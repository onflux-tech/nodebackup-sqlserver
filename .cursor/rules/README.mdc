---
description: 
globs: 
alwaysApply: true
---
# ğŸ“‹ Ãndice das Regras do Cursor - NodeBackup

## ğŸ¯ VisÃ£o Geral

Este conjunto de regras fornece diretrizes completas para desenvolvimento da aplicaÃ§Ã£o **NodeBackup SQL Server** - uma soluÃ§Ã£o de backup automatizado compatÃ­vel com **Node.js 12** e distribuÃ­da como executÃ¡vel Ãºnico para Windows, agora com **arquitetura modular** moderna.

## ğŸ“š Regras DisponÃ­veis

### 1. ğŸ—ï¸ [VisÃ£o Geral do Projeto](mdc:projeto-nodebackup.mdc)
**Escopo**: Arquitetura modular, tecnologias e estrutura atual
- DescriÃ§Ã£o completa do projeto refatorado
- Stack tecnolÃ³gica (Node 12, Express, SQL Server, SQLite)
- Mapeamento da estrutura modular (frontend + backend)
- Sistema de configuraÃ§Ã£o criptografada
- Processo de build com assets embarcados
- **NOVO**: Arquitetura modular com 8 mÃ³dulos JS e 5 mÃ³dulos CSS

### 2. ğŸ› ï¸ [PadrÃµes de Desenvolvimento](mdc:padroes-desenvolvimento.mdc)
**Escopo**: Compatibilidade Node 12, estrutura modular e boas prÃ¡ticas
- Compatibilidade obrigatÃ³ria com Node.js 12.x
- **ATUALIZADO**: PadrÃµes de estrutura modular (frontend/backend)
- **NOVO**: OrganizaÃ§Ã£o de mÃ³dulos JS (ES6) e CSS (variÃ¡veis)
- CommonJS vs ES Modules
- Tratamento de erros e logging
- ConfiguraÃ§Ã£o segura e criptografia
- **NOVO**: Checklist para desenvolvimento modular

### 3. ğŸŒ [Frontend e API](mdc:frontend-api-patterns.mdc)
**Escopo**: Interface web modular, padrÃµes de API REST e UX moderna
- **RENOVADO**: Estrutura modular da interface web (5 CSS + 8 JS)
- **NOVO**: Sistema de design com variÃ¡veis CSS e temas
- PadrÃµes de API REST com rotas modulares
- **NOVO**: Middleware de autenticaÃ§Ã£o centralizado
- Componentes reutilizÃ¡veis modernos
- Performance e compatibilidade browser
- **NOVO**: Sistema anti-FOUC implementado
- Responsividade mobile-first completa

### 4. ğŸš€ [Deployment e Versionamento](mdc:deployment-versionamento.mdc)
**Escopo**: Build, releases e distribuiÃ§Ã£o
- Versionamento semÃ¢ntico (v0.2.2 atual)
- Processo de build com pkg
- Assets embarcados (7za.exe, nssm.exe, public/ modular)
- GitHub Releases e CI/CD
- Instalador NSIS opcional
- Troubleshooting de build

### 5. ğŸ“ˆ [Roadmap e Tasklist](mdc:roadmap-tasklist.mdc)
**Escopo**: PrÃ³ximas implementaÃ§Ãµes sobre base modular
- **ATUALIZADO**: Estado atual v0.2.2 (pÃ³s-refatoraÃ§Ã£o)
- **NOVO**: Fases de desenvolvimento com base modular
- Tasklist detalhada por feature
- **PRÃ“XIMO**: v0.3.0 - Logs em Tempo Real (WebSocket)
- Estimativas de tempo e prioridades
- Melhorias de infraestrutura
- CritÃ©rios de qualidade

## ğŸ¯ Como Usar Estas Regras

### Para Desenvolvimento Ativo
1. **Consulte** [padroes-desenvolvimento.mdc](mdc:padroes-desenvolvimento.mdc) para estrutura modular
2. **Verifique** [frontend-api-patterns.mdc](mdc:frontend-api-patterns.mdc) para mudanÃ§as na interface
3. **Siga** os padrÃµes de commit em [deployment-versionamento.mdc](mdc:deployment-versionamento.mdc)
4. **NOVO**: Use a estrutura modular para adicionar novas funcionalidades

### Para Novas Features
1. **Consulte** [roadmap-tasklist.mdc](mdc:roadmap-tasklist.mdc) para ver se jÃ¡ estÃ¡ planejado
2. **NOVO**: Crie mÃ³dulos JS/CSS apropriados conforme [padroes-desenvolvimento.mdc](mdc:padroes-desenvolvimento.mdc)
3. **NOVO**: Use rotas modulares conforme [frontend-api-patterns.mdc](mdc:frontend-api-patterns.mdc)
4. **Teste** o build conforme [deployment-versionamento.mdc](mdc:deployment-versionamento.mdc)

### Para Entendimento Geral
1. **Comece** com [projeto-nodebackup.mdc](mdc:projeto-nodebackup.mdc) para overview modular
2. **Explore** estrutura modular documentada nas regras
3. **Consulte** [roadmap-tasklist.mdc](mdc:roadmap-tasklist.mdc) para contexto futuro

## âš ï¸ RestriÃ§Ãµes Importantes

### ğŸ”´ Compatibilidade CrÃ­tica
- **Node.js 12.x**: Nunca quebrar compatibilidade
- **Windows 7+**: ExecutÃ¡vel deve funcionar em sistemas antigos
- **SQL Server 2008+**: Manter suporte a versÃµes legadas
- **Assets Embarcados**: 7za.exe e nssm.exe obrigatÃ³rios
- **NOVO**: Modularidade deve manter compatibilidade total

### ğŸŸ¡ LimitaÃ§Ãµes TÃ©cnicas Atualizadas
- **Tamanho ExecutÃ¡vel**: < 100MB
- **Interface Web**: < 60KB total (35KB JS + 25KB CSS - modular)
- **DependÃªncias**: Evitar bibliotecas que exijam Node 14+
- **Build Target**: pkg node12-win-x64 obrigatÃ³rio
- **NOVO**: MÃ³dulos devem seguir padrÃµes estabelecidos

## ğŸš€ Estado Atual vs PrÃ³ximos Passos

### âœ… Implementado (v0.2.2 - PÃ³s-RefatoraÃ§Ã£o)
- **Base SÃ³lida**: Todas as funcionalidades v0.1.0 e v0.2.0
- **NOVO - Arquitetura Modular**: Frontend e backend completamente refatorados
- **CSS Modular**: 5 arquivos especializados (base, components, layout, login, responsive)
- **JavaScript Modular**: 8 mÃ³dulos especÃ­ficos (ui, config, database, history, storage, schedule, auth, api)
- **Backend Reorganizado**: Rotas separadas por funcionalidade com middleware dedicado
- **Interface Modernizada**: Tema claro/escuro, responsiva, mobile-first
- **Sistema Anti-FOUC**: Script inline implementado
- **Painel de HistÃ³rico**: VisualizaÃ§Ã£o completa com SQLite
- **PolÃ­tica de RetenÃ§Ã£o**: Limpeza automÃ¡tica configurÃ¡vel

### ğŸ¯ PrÃ³xima Prioridade (v0.3.0 - Fase 1.3)
- **Logs em Tempo Real**: Stream via WebSocket aproveitando base modular
- **Nova Aba "Logs ao Vivo"**: Integrada ao sistema de temas existente
- **MÃ³dulo logs.js**: Seguindo padrÃµes modulares estabelecidos

### ğŸ”® Roadmap v0.x.x Atualizado
- **v0.3.0**: Logs em Tempo Real (WebSocket) - 3-4 semanas
- **v0.4.0**: NotificaÃ§Ãµes por E-mail (SMTP) - 6-8 semanas
- **v0.5.0**: IntegraÃ§Ã£o Telegram/WhatsApp - 4-6 semanas
- **v1.0.0**: Release estÃ¡vel consolidado - 2-3 semanas

## ğŸ“Š Melhorias Implementadas na RefatoraÃ§Ã£o

### ğŸ—ï¸ **Arquitetura**
- **Modularidade**: CÃ³digo separado por responsabilidade
- **Manutenibilidade**: FÃ¡cil localizaÃ§Ã£o e ediÃ§Ã£o de funcionalidades
- **Escalabilidade**: Base sÃ³lida para expansÃ£o rÃ¡pida
- **Performance**: Carregamento otimizado e cache inteligente

### ğŸ¨ **Frontend**
- **CSS Variables**: Sistema de design consistente
- **Responsividade**: Mobile-first com breakpoints definidos
- **Temas**: Sistema robusto claro/escuro
- **Componentes**: ReutilizÃ¡veis e bem documentados

### ğŸ”§ **Backend**
- **Rotas Modulares**: Separadas por funcionalidade
- **Middleware**: AutenticaÃ§Ã£o centralizada
- **API Consistente**: PadrÃµes de resposta unificados
- **Error Handling**: Tratamento robusto e informativo

## ğŸ“ Quando Consultar Cada Regra (Atualizado)

| SituaÃ§Ã£o | Regra Principal | Regras SecundÃ¡rias |
|----|-----|----|
| **Novo no projeto** | [projeto-nodebackup.mdc](mdc:projeto-nodebackup.mdc) | Todas |
| **Desenvolvimento modular** | [padroes-desenvolvimento.mdc](mdc:padroes-desenvolvimento.mdc) | [frontend-api-patterns.mdc](mdc:frontend-api-patterns.mdc) |
| **Adicionando mÃ³dulo CSS/JS** | [frontend-api-patterns.mdc](mdc:frontend-api-patterns.mdc) | [padroes-desenvolvimento.mdc](mdc:padroes-desenvolvimento.mdc) |
| **Nova rota API** | [frontend-api-patterns.mdc](mdc:frontend-api-patterns.mdc) | [padroes-desenvolvimento.mdc](mdc:padroes-desenvolvimento.mdc) |
| **Fazendo release** | [deployment-versionamento.mdc](mdc:deployment-versionamento.mdc) | Todas |
| **Bug crÃ­tico** | [padroes-desenvolvimento.mdc](mdc:padroes-desenvolvimento.mdc) | [projeto-nodebackup.mdc](mdc:projeto-nodebackup.mdc) |
| **Planejamento features** | [roadmap-tasklist.mdc](mdc:roadmap-tasklist.mdc) | [padroes-desenvolvimento.mdc](mdc:padroes-desenvolvimento.mdc) |

## ğŸ”„ Vantagens da Arquitetura Modular

### ğŸ“ˆ **Desenvolvimento**
- **LocalizaÃ§Ã£o RÃ¡pida**: Funcionalidade especÃ­fica em arquivo dedicado
- **EdiÃ§Ã£o Segura**: MudanÃ§as isoladas sem impacto em outras Ã¡reas
- **Debugging Eficiente**: Logs e erros com contexto especÃ­fico
- **Code Review**: MudanÃ§as focadas e fÃ¡ceis de revisar

### ğŸš€ **Performance**
- **Carregamento Otimizado**: MÃ³dulos carregados conforme necessidade
- **Cache Inteligente**: MÃ³dulos cachados independentemente
- **Bundle Size**: Controle granular do tamanho de cada Ã¡rea
- **Responsividade**: CSS especializado para cada contexto

### ğŸ”§ **ManutenÃ§Ã£o**
- **AtualizaÃ§Ãµes Isoladas**: MudanÃ§a em um mÃ³dulo nÃ£o afeta outros
- **Testes Focados**: Cada mÃ³dulo pode ser testado independentemente
- **DocumentaÃ§Ã£o Clara**: Responsabilidade bem definida
- **Escalabilidade**: FÃ¡cil adiÃ§Ã£o de novas funcionalidades

---

**ğŸ’¡ Dica**: A nova estrutura modular permite desenvolvimento mais rÃ¡pido e manutenÃ§Ã£o mais fÃ¡cil. Use Ctrl+F para buscar funcionalidades especÃ­ficas dentro de cada mÃ³dulo, ou consulte os links `[arquivo.ext](mdc:arquivo.ext)` para navegar rapidamente pelos arquivos do projeto.

